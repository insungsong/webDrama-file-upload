{
  "{\"sourceRoot\":\"/Users/insungsong/Documents/weberyday-multer-backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/insungsong/Documents/weberyday-multer-backend\",\"filename\":\"/Users/insungsong/Documents/weberyday-multer-backend/src/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/insungsong/Documents/weberyday-multer-backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/insungsong/Documents/weberyday-multer-backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/insungsong/Documents/weberyday-multer-backend",
      "filename": "/Users/insungsong/Documents/weberyday-multer-backend/src/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/insungsong/Documents/weberyday-multer-backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/insungsong/Documents/weberyday-multer-backend/src/server.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/insungsong/Documents/weberyday-multer-backend/src/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/insungsong/Documents/weberyday-multer-backend/src/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])();\nvar port = 5000;\nvar upload = (0, _multer[\"default\"])({\n  dest: \"uploads/\"\n});\napp.get(\"/\", function (req, res) {\n  return res.send(\"Hello, world\");\n});\napp.post(\"/uploadPost\", upload.single(\"imgFile\"), function (req, res, next) {\n  console.log(req.file);\n  res.redirect(\"http://localhost:3000/UploadPost\");\n});\napp.use((0, _cors[\"default\"])());\napp.listen(port, function () {\n  return console.log(\"\\uD83D\\uDD25Listening on Server: http//localhost:\".concat(port, \"\\uD83C\\uDF53\"));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJwb3J0IiwidXBsb2FkIiwiZGVzdCIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJwb3N0Iiwic2luZ2xlIiwibmV4dCIsImNvbnNvbGUiLCJsb2ciLCJmaWxlIiwicmVkaXJlY3QiLCJ1c2UiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsMEJBQVo7QUFFQSxJQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUVBLElBQU1DLE1BQU0sR0FBRyx3QkFBTztBQUFFQyxFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFQLENBQWY7QUFFQUgsR0FBRyxDQUFDSSxHQUFKLENBQVEsR0FBUixFQUFhLFVBQUNDLEdBQUQsRUFBTUMsR0FBTjtBQUFBLFNBQWNBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTLGNBQVQsQ0FBZDtBQUFBLENBQWI7QUFFQVAsR0FBRyxDQUFDUSxJQUFKLENBQVMsYUFBVCxFQUF3Qk4sTUFBTSxDQUFDTyxNQUFQLENBQWMsU0FBZCxDQUF4QixFQUFrRCxVQUFVSixHQUFWLEVBQWVDLEdBQWYsRUFBb0JJLElBQXBCLEVBQTBCO0FBQzFFQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWVAsR0FBRyxDQUFDUSxJQUFoQjtBQUNBUCxFQUFBQSxHQUFHLENBQUNRLFFBQUosQ0FBYSxrQ0FBYjtBQUNELENBSEQ7QUFLQWQsR0FBRyxDQUFDZSxHQUFKLENBQVEsdUJBQVI7QUFFQWYsR0FBRyxDQUFDZ0IsTUFBSixDQUFXZixJQUFYLEVBQWlCO0FBQUEsU0FDZlUsT0FBTyxDQUFDQyxHQUFSLDREQUFzRFgsSUFBdEQsa0JBRGU7QUFBQSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvaW5zdW5nc29uZy9Eb2N1bWVudHMvd2ViZXJ5ZGF5LW11bHRlci1iYWNrZW5kL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmNvbnN0IHBvcnQgPSA1MDAwO1xuXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBkZXN0OiBcInVwbG9hZHMvXCIgfSk7XG5cbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4gcmVzLnNlbmQoXCJIZWxsbywgd29ybGRcIikpO1xuXG5hcHAucG9zdChcIi91cGxvYWRQb3N0XCIsIHVwbG9hZC5zaW5nbGUoXCJpbWdGaWxlXCIpLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgY29uc29sZS5sb2cocmVxLmZpbGUpO1xuICByZXMucmVkaXJlY3QoXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvVXBsb2FkUG9zdFwiKTtcbn0pO1xuXG5hcHAudXNlKGNvcnMoKSk7XG5cbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT5cbiAgY29uc29sZS5sb2coYPCflKVMaXN0ZW5pbmcgb24gU2VydmVyOiBodHRwLy9sb2NhbGhvc3Q6JHtwb3J0ffCfjZNgKVxuKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "app",
        "port",
        "upload",
        "dest",
        "get",
        "req",
        "res",
        "send",
        "post",
        "single",
        "next",
        "console",
        "log",
        "file",
        "redirect",
        "use",
        "listen"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEA,IAAMC,IAAI,GAAG,IAAb;AAEA,IAAMC,MAAM,GAAG,wBAAO;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAP,CAAf;AAEAH,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACC,IAAJ,CAAS,cAAT,CAAd;AAAA,CAAb;AAEAP,GAAG,CAACQ,IAAJ,CAAS,aAAT,EAAwBN,MAAM,CAACO,MAAP,CAAc,SAAd,CAAxB,EAAkD,UAAUJ,GAAV,EAAeC,GAAf,EAAoBI,IAApB,EAA0B;AAC1EC,EAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACQ,IAAhB;AACAP,EAAAA,GAAG,CAACQ,QAAJ,CAAa,kCAAb;AACD,CAHD;AAKAd,GAAG,CAACe,GAAJ,CAAQ,uBAAR;AAEAf,GAAG,CAACgB,MAAJ,CAAWf,IAAX,EAAiB;AAAA,SACfU,OAAO,CAACC,GAAR,4DAAsDX,IAAtD,kBADe;AAAA,CAAjB",
      "sourceRoot": "/Users/insungsong/Documents/weberyday-multer-backend/src/",
      "sourcesContent": [
        "import express from \"express\";\nimport multer from \"multer\";\nimport cors from \"cors\";\n\nconst app = express();\n\nconst port = 5000;\n\nconst upload = multer({ dest: \"uploads/\" });\n\napp.get(\"/\", (req, res) => res.send(\"Hello, world\"));\n\napp.post(\"/uploadPost\", upload.single(\"imgFile\"), function (req, res, next) {\n  console.log(req.file);\n  res.redirect(\"http://localhost:3000/UploadPost\");\n});\n\napp.use(cors());\n\napp.listen(port, () =>\n  console.log(`🔥Listening on Server: http//localhost:${port}🍓`)\n);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1594278784969
  },
  "{\"sourceRoot\":\"/Users/insungsong/Documents/weberyday-fileUpload-backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/insungsong/Documents/weberyday-fileUpload-backend\",\"filename\":\"/Users/insungsong/Documents/weberyday-fileUpload-backend/src/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/insungsong/Documents/weberyday-fileUpload-backend\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/insungsong/Documents/weberyday-fileUpload-backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/insungsong/Documents/weberyday-fileUpload-backend",
      "filename": "/Users/insungsong/Documents/weberyday-fileUpload-backend/src/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/insungsong/Documents/weberyday-fileUpload-backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/insungsong/Documents/weberyday-fileUpload-backend/src/server.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/insungsong/Documents/weberyday-fileUpload-backend/src/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/insungsong/Documents/weberyday-fileUpload-backend/src/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])(); // http://localhost:3000(frontend에서 localhost:5000이 들어오게 하는것을 허락하는 코드)\n\napp.use((0, _cors[\"default\"])());\n\n_dotenv[\"default\"].config({\n  path: _path[\"default\"].join(__dirname, \"../.env\")\n});\n\nvar port = 5000;\nvar s3 = new _awsSdk[\"default\"].S3({\n  accessKeyId: process.env.AWS_KEY,\n  secretAccessKey: process.env.AWS_PRIVATE_KEY,\n  region: \"ap-northeast-1\"\n});\nvar postMulterBoth = (0, _multer[\"default\"])({\n  storage: (0, _multerS[\"default\"])({\n    s3: s3,\n    acl: \"public-read\",\n    bucket: \"weberyday-test\"\n  })\n});\nvar episodeMulterBoth = (0, _multer[\"default\"])({\n  storage: (0, _multerS[\"default\"])({\n    s3: s3,\n    acl: \"public-read\",\n    bucket: \"weberyday-test\"\n  })\n});\nvar notificationMulter = (0, _multer[\"default\"])({\n  storage: (0, _multerS[\"default\"])({\n    s3: s3,\n    acl: \"public-read\",\n    bucket: \"weberyday-test\"\n  })\n}); //const uploadImage = postMulterBoth.single(\"imgFile\");\n\nvar postUploadboth = postMulterBoth.any();\nvar episodeUploadboth = episodeMulterBoth.any();\nvar notificaitonUpload = episodeMulterBoth.single(\"imgFile\"); //작품을 등록하려고 했다가 토큰을 조작하여 그냥 바로 redirect시키기 위한 코드\n\napp.post(\"/\", function (req, res, next) {\n  res.redirect(\"http://localhost:3000/\");\n}); //작품 등록할때\n\napp.post(\"/uploadPost\", postUploadboth, function (req, res, next) {\n  var value = req.files;\n  res.cookie(\"postThumnail\", value[0].location);\n  res.cookie(\"postBackgroundImg\", value[1].location); //s3에 저장되는 key정보를 해당 post에도 담기위한 작업\n\n  res.cookie(\"s3PostThumnailId\", value[0].key);\n  res.cookie(\"s3PostBackgroundImgId\", value[1].key);\n  res.redirect(\"http://localhost:3000/myPostList\");\n}); //작품수정할때\n\napp.post(\"/myPostUpdate/:id\", postUploadboth, function (req, res, next) {\n  var postId = req.url.split(\"/\")[2];\n  var value = req.files; //s3에서 있는 기존의 내용을 삭제하기 위함\n\n  var dbS3Thumbnail = req.query.s3Thumbnail;\n  var dbS3BackgroundImage = req.query.s3BackgroundImage;\n\n  if (value.length === 1) {\n    if (value[0].fieldname === \"postThumnail\") {\n      res.cookie(\"postThumnail\", value[0].location);\n      res.cookie(\"s3PostThumnailId\", value[0].key);\n      res.cookie(\"postBackgroundImg\", \"\");\n      res.cookie(\"s3PostBackgroundImgId\", \"\");\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: dbS3Thumbnail\n      };\n      s3.deleteObject(params, function (err, data) {\n        if (err) console.log(\"error\", err, err.stack); // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n\n    if (value[0].fieldname === \"postBackgroundImg\") {\n      res.cookie(\"postBackgroundImg\", value[0].location);\n      res.cookie(\"s3PostBackgroundImgId\", value[0].key);\n      res.cookie(\"postThumnail\", \"\");\n      res.cookie(\"s3PostThumnailId\", \"\");\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: dbS3BackgroundImage\n      };\n      s3.deleteObject(params, function (err, data) {\n        if (err) console.log(\"error\", err, err.stack); // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n  } else {\n    res.cookie(\"postThumnail\", value[0].location);\n    res.cookie(\"postBackgroundImg\", value[1].location);\n    res.cookie(\"s3PostThumnailId\", value[0].key);\n    res.cookie(\"s3PostBackgroundImgId\", value[1].key);\n    var params = {\n      Bucket: \"weberyday-test\",\n      Delete: {\n        Objects: [{\n          Key: dbS3Thumbnail\n        }, {\n          Key: dbS3BackgroundImage\n        }],\n        Quiet: false\n      }\n    };\n    s3.deleteObjects(params, function (err, data) {\n      if (err) console.log(\"error\", err, err.stack); // an error occurred\n      else console.log(\"data\", data);\n    });\n  }\n\n  res.redirect(\"http://localhost:3000/myPostList/\".concat(postId));\n}); //작품 삭제할때\n\napp.post(\"/myPostDelete\", function (req, res, next) {\n  var s3Thumbnail = req.query.s3Thumbnail;\n  var s3BackgroundImage = req.query.s3BackgroundImage;\n  var params = {\n    Bucket: \"weberyday-test\",\n    Delete: {\n      Objects: [{\n        Key: s3Thumbnail\n      }, {\n        Key: s3BackgroundImage\n      }],\n      Quiet: false\n    }\n  };\n  s3.deleteObjects(params, function (err, data) {\n    if (err) console.log(\"error\", err, err.stack); // an error occurred\n    else console.log(\"data\", data);\n  });\n}); //작품 회차 등록할때\n\napp.post(\"/uploadEpisode/:id\", episodeUploadboth, function (req, res, next) {\n  var value = req.files;\n  var postId = req.url.split(\"/\")[2];\n  res.cookie(\"episodeImgFile\", value[0].location);\n  res.cookie(\"videoFile\", value[1].location); //s3에 저장될 cookie를 생성\n\n  res.cookie(\"s3EpisodeImgFile\", value[0].key);\n  res.cookie(\"s3VideoFile\", value[1].key);\n  res.redirect(\"http://localhost:3000/myPostList/\".concat(postId));\n}); //작품 회차 수정할때\n\napp.post(\"/updateEpisode/:id\", episodeUploadboth, function (req, res, next) {\n  var value = req.files;\n  var episodeId = req.url.split(\"/\")[2]; //s3에 있는 정보를 url을 통해 가져옴\n\n  var s3ThumbnailId = req.query.s3ThumbnailId;\n  var s3FileId = req.query.s3FileId;\n\n  if (value.length === 1) {\n    if (value[0].fieldname === \"videoFile\") {\n      res.cookie(\"videoFile\", value[0].location);\n      res.cookie(\"s3FileId\", value[0].key);\n      res.cookie(\"episodeImgFile\", \"\");\n      res.cookie(\"s3ThumbnailId\", \"\");\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: s3FileId\n      };\n      s3.deleteObject(params, function (err, data) {\n        if (err) console.log(\"error\", err, err.stack); // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n\n    if (value[0].fieldname === \"postThumnail\") {\n      res.cookie(\"episodeImgFile\", value[0].location);\n      res.cookie(\"s3ThumbnailId\", value[0].key);\n      res.cookie(\"videoFile\", \"\");\n      res.cookie(\"s3FileId\", \"\");\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: s3ThumbnailId\n      };\n      s3.deleteObject(params, function (err, data) {\n        if (err) console.log(\"error\", err, err.stack); // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n  } else {\n    res.cookie(\"episodeImgFile\", value[0].location);\n    res.cookie(\"videoFile\", value[1].location);\n    res.cookie(\"s3ThumbnailId\", value[0].key);\n    res.cookie(\"s3FileId\", value[1].key);\n    var params = {\n      Bucket: \"weberyday-test\",\n      Delete: {\n        Objects: [{\n          Key: s3ThumbnailId\n        }, {\n          Key: s3FileId\n        }],\n        Quiet: false\n      }\n    };\n    s3.deleteObjects(params, function (err, data) {\n      if (err) console.log(\"error\", err, err.stack); // an error occurred\n      else console.log(\"data\", data);\n    });\n  }\n\n  res.redirect(\"http://localhost:3000/episodeUpdate/\".concat(episodeId));\n}); //회차 삭제 s3코드\n\napp.post(\"/deleteEpisode/:id\", function (req, res, next) {\n  var postId = req.query.postId;\n  var s3ThumbnailId = req.query.s3ThumbnailId;\n  var s3FileId = req.query.s3FileId;\n  var params = {\n    Bucket: \"weberyday-test\",\n    Delete: {\n      Objects: [{\n        Key: s3ThumbnailId\n      }, {\n        Key: s3FileId\n      }],\n      Quiet: false\n    }\n  };\n  s3.deleteObjects(params, function (err, data) {\n    if (err) console.log(\"error\", err, err.stack); // an error occurred\n    else console.log(\"data\", data);\n  });\n  res.redirect(\"http://localhost:3000/myPostList/\".concat(postId));\n}); //관리자 알림 이미지 업로드\n\napp.post(\"/notificationManage\", notificaitonUpload, function (req, res, next) {\n  var value = req.file; // const notificationTitle = req.query.notificationTitle;\n  // const notificationText = req.query.notificationText;\n  // const notificationURL = req.query.notificationURL;\n  // console.log(notificationTitle, notificationText, notificationURL);\n  // res.cookie(\"notificationTitle\", notificationTitle);\n  // res.cookie(\"notificationText\", notificationText);\n  // res.cookie(\"notificationURL\", notificationURL);\n  //s3에 저장될 cookie를 생성\n\n  res.cookie(\"notificationImgFile\", value.location);\n  res.cookie(\"s3NotificationImgFile\", value.key);\n  res.redirect(\"http://localhost:3000/notificationManage\");\n}); //알림 수정 할때\n\napp.post(\"/notificationUpdateManage\", notificaitonUpload, function (req, res, next) {\n  var value = req.file;\n  var s3NotificationId = req.query.s3NotificationId; //s3에 저장될 cookie를 생성\n\n  res.cookie(\"notificationUpdateImgFile\", value.location);\n  res.cookie(\"s3NotificationUpdateImgFile\", value.key);\n\n  if (s3NotificationId === \"\") {} else {\n    var params = {\n      Bucket: \"weberyday-test\",\n      Key: s3NotificationId\n    };\n    s3.deleteObject(params, function (err, data) {\n      if (err) console.log(\"error\", err, err.stack); // an error occurred\n      else console.log(\"data\", data);\n    });\n  }\n\n  res.redirect(\"http://localhost:3000/notificationManage\");\n}); //알림 삭제할때\n\napp.post(\"/notificationDelete\", function (req, res, next) {\n  var s3NotificationKey = req.query.s3NotificationKey;\n  var params = {\n    Bucket: \"weberyday-test\",\n    Key: s3NotificationKey\n  };\n  s3.deleteObject(params, function (err, data) {\n    if (err) console.log(\"error\", err, err.stack); // an error occurred\n    else console.log(\"data\", data);\n  });\n  res.redirect(\"http://localhost:3000/notificationManage\");\n}); //카카오로그인\n\nvar passport = require(\"passport\"),\n    KakaoStrategy = require(\"passport-kakao\").Strategy;\n\npassport.use(new KakaoStrategy({\n  clientID: process.env.KAKAO_REST_API,\n  callbackURL: process.env.KAKAO_CALL_BACK_URL\n}, function (accessToken, refreshToken, profile, done) {\n  // 사용자의 정보는 profile에 들어있다.\n  return done(null, profile);\n}));\napp.get(\"/login/kakao\", passport.authenticate(\"kakao\"));\napp.use(passport.initialize());\napp.get(\"/login/kakao/callback\", function (req, res, next) {\n  passport.authenticate(\"kakao\", function (err, user) {\n    if (!user) {\n      return res.redirect(\"http://localhost:3000/kakaoLogin/fail\");\n    }\n\n    req.logIn(user, function (err) {\n      var current_kakaoUser = user._json.kakao_account.email;\n      res.cookie(\"current_kakaoUser\", current_kakaoUser);\n      return res.redirect(\"http://localhost:3000/\");\n    });\n  })(req, res);\n}); //네이버 로그인\n\nvar NaverStrategy = require(\"passport-naver\").Strategy;\n\npassport.use(new NaverStrategy({\n  clientID: process.env.NAVER_REST_API,\n  clientSecret: process.env.NAVER_CLIENT_SECRET,\n  callbackURL: process.env.NAVER_CALL_BACK_URL\n}, function (accessToken, refreshToken, profile, done) {\n  return done(null, profile);\n}));\napp.get(\"/login/naver\", passport.authenticate(\"naver\"));\napp.use(passport.initialize());\napp.get(\"/login/naver/callback\", function (req, res, next) {\n  passport.authenticate(\"naver\", function (err, user) {\n    if (!user) {\n      return res.redirect(\"http://localhost:3000/naverLogin/fail\");\n    }\n\n    req.logIn(user, function (err) {\n      var current_NaverUser = user._json.email;\n      res.cookie(\"current_NaverUser\", current_NaverUser);\n      return res.redirect(\"http://localhost:3000/\");\n    });\n  })(req, res);\n}); //facebook Login\n\nvar FacebookStrategy = require(\"passport-facebook\").Strategy;\n\npassport.use(new FacebookStrategy({\n  clientID: process.env.FACEBOOK_APP_ID,\n  clientSecret: process.env.FACEBOOK_APP_SECRET,\n  //ngrok의 https를 사용하는 중\n  //env도 고쳐줘야함\n  callbackURL: process.env.FACEBOOK_CALL_BACK_URL,\n  profileFields: [\"id\", \"email\", \"gender\", \"link\", \"locale\", \"name\", \"timezone\", \"updated_time\", \"verified\", \"displayName\"]\n}, function (accessToken, refreshToken, profile, done) {\n  passport.serializeUser(function (user, done) {\n    done(null, user);\n  });\n  passport.deserializeUser(function (user, done) {\n    done(null, user);\n  });\n  return done(null, profile);\n}));\napp.get(\"/auth/facebook\", passport.authenticate(\"facebook\", {\n  scope: \"email\"\n}));\napp.get(\"/auth/facebook/callback\", function (req, res, next) {\n  passport.authenticate(\"facebook\", function (err, user) {\n    if (!user) {\n      return res.redirect(\"http://localhost:3000/facebookLogin/fail\");\n    }\n\n    req.logIn(user, function (err) {\n      var fbEmail = \"\";\n\n      if (user._json.email !== undefined && user._json.email !== \"\") {\n        fbEmail = user._json.email;\n\n        _jsCookie[\"default\"].set(\"current_FacebookUser\", fbEmail);\n\n        return res.redirect(\"http://localhost:3000?fbEmail=\".concat(fbEmail));\n      } else {\n        _jsCookie[\"default\"].set(\"current_FacebookUser\", user.id);\n\n        return res.redirect(\"http://localhost:3000?fbEmail=\".concat(user.id));\n      }\n    });\n  })(req, res);\n});\napp.listen(port, function () {\n  return console.log(\"\\uD83D\\uDD25Listening on Server: http//localhost:\".concat(port, \"\\uD83C\\uDF53\"));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJkb3RlbnYiLCJjb25maWciLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInBvcnQiLCJzMyIsImF3cyIsIlMzIiwiYWNjZXNzS2V5SWQiLCJwcm9jZXNzIiwiZW52IiwiQVdTX0tFWSIsInNlY3JldEFjY2Vzc0tleSIsIkFXU19QUklWQVRFX0tFWSIsInJlZ2lvbiIsInBvc3RNdWx0ZXJCb3RoIiwic3RvcmFnZSIsImFjbCIsImJ1Y2tldCIsImVwaXNvZGVNdWx0ZXJCb3RoIiwibm90aWZpY2F0aW9uTXVsdGVyIiwicG9zdFVwbG9hZGJvdGgiLCJhbnkiLCJlcGlzb2RlVXBsb2FkYm90aCIsIm5vdGlmaWNhaXRvblVwbG9hZCIsInNpbmdsZSIsInBvc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwicmVkaXJlY3QiLCJ2YWx1ZSIsImZpbGVzIiwiY29va2llIiwibG9jYXRpb24iLCJrZXkiLCJwb3N0SWQiLCJ1cmwiLCJzcGxpdCIsImRiUzNUaHVtYm5haWwiLCJxdWVyeSIsInMzVGh1bWJuYWlsIiwiZGJTM0JhY2tncm91bmRJbWFnZSIsInMzQmFja2dyb3VuZEltYWdlIiwibGVuZ3RoIiwiZmllbGRuYW1lIiwicGFyYW1zIiwiQnVja2V0IiwiS2V5IiwiZGVsZXRlT2JqZWN0IiwiZXJyIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzdGFjayIsIkRlbGV0ZSIsIk9iamVjdHMiLCJRdWlldCIsImRlbGV0ZU9iamVjdHMiLCJlcGlzb2RlSWQiLCJzM1RodW1ibmFpbElkIiwiczNGaWxlSWQiLCJmaWxlIiwiczNOb3RpZmljYXRpb25JZCIsInMzTm90aWZpY2F0aW9uS2V5IiwicGFzc3BvcnQiLCJyZXF1aXJlIiwiS2FrYW9TdHJhdGVneSIsIlN0cmF0ZWd5IiwiY2xpZW50SUQiLCJLQUtBT19SRVNUX0FQSSIsImNhbGxiYWNrVVJMIiwiS0FLQU9fQ0FMTF9CQUNLX1VSTCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwicHJvZmlsZSIsImRvbmUiLCJnZXQiLCJhdXRoZW50aWNhdGUiLCJpbml0aWFsaXplIiwidXNlciIsImxvZ0luIiwiY3VycmVudF9rYWthb1VzZXIiLCJfanNvbiIsImtha2FvX2FjY291bnQiLCJlbWFpbCIsIk5hdmVyU3RyYXRlZ3kiLCJOQVZFUl9SRVNUX0FQSSIsImNsaWVudFNlY3JldCIsIk5BVkVSX0NMSUVOVF9TRUNSRVQiLCJOQVZFUl9DQUxMX0JBQ0tfVVJMIiwiY3VycmVudF9OYXZlclVzZXIiLCJGYWNlYm9va1N0cmF0ZWd5IiwiRkFDRUJPT0tfQVBQX0lEIiwiRkFDRUJPT0tfQVBQX1NFQ1JFVCIsIkZBQ0VCT09LX0NBTExfQkFDS19VUkwiLCJwcm9maWxlRmllbGRzIiwic2VyaWFsaXplVXNlciIsImRlc2VyaWFsaXplVXNlciIsInNjb3BlIiwiZmJFbWFpbCIsInVuZGVmaW5lZCIsIkNvb2tpZSIsInNldCIsImlkIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsR0FBRyxHQUFHLDBCQUFaLEMsQ0FFQTs7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsdUJBQVI7O0FBRUFDLG1CQUFPQyxNQUFQLENBQWM7QUFBRUMsRUFBQUEsSUFBSSxFQUFFQSxpQkFBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCO0FBQVIsQ0FBZDs7QUFFQSxJQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUVBLElBQU1DLEVBQUUsR0FBRyxJQUFJQyxtQkFBSUMsRUFBUixDQUFXO0FBQ3BCQyxFQUFBQSxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQURMO0FBRXBCQyxFQUFBQSxlQUFlLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxlQUZUO0FBR3BCQyxFQUFBQSxNQUFNLEVBQUU7QUFIWSxDQUFYLENBQVg7QUFNQSxJQUFNQyxjQUFjLEdBQUcsd0JBQU87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LFFBQUoseUNBQThDa0QsSUFBSSxDQUFDd0IsRUFBbkQsRUFBUDtBQUNEO0FBQ0YsS0FWRDtBQVdELEdBZkQsRUFlRzdFLEdBZkgsRUFlUUMsR0FmUjtBQWdCRCxDQWpCRDtBQW1CQS9CLEdBQUcsQ0FBQzRHLE1BQUosQ0FBV3JHLElBQVgsRUFBaUI7QUFBQSxTQUNmZ0QsT0FBTyxDQUFDQyxHQUFSLDREQUFzRGpELElBQXRELGtCQURlO0FBQUEsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2luc3VuZ3NvbmcvRG9jdW1lbnRzL3dlYmVyeWRheS1maWxlVXBsb2FkLWJhY2tlbmQvc3JjLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcbmltcG9ydCBtdWx0ZXJTMyBmcm9tIFwibXVsdGVyLXMzXCI7XG5pbXBvcnQgYXdzIGZyb20gXCJhd3Mtc2RrXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IENvb2tpZSBmcm9tIFwianMtY29va2llXCI7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwKGZyb250ZW5k7JeQ7IScIGxvY2FsaG9zdDo1MDAw7J20IOuTpOyWtOyYpOqyjCDtlZjripTqsoPsnYQg7ZeI65297ZWY64qUIOy9lOuTnClcbmFwcC51c2UoY29ycygpKTtcblxuZG90ZW52LmNvbmZpZyh7IHBhdGg6IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vLmVudlwiKSB9KTtcblxuY29uc3QgcG9ydCA9IDUwMDA7XG5cbmNvbnN0IHMzID0gbmV3IGF3cy5TMyh7XG4gIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BV1NfS0VZLFxuICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LkFXU19QUklWQVRFX0tFWSxcbiAgcmVnaW9uOiBcImFwLW5vcnRoZWFzdC0xXCJcbn0pO1xuXG5jb25zdCBwb3N0TXVsdGVyQm90aCA9IG11bHRlcih7XG4gIHN0b3JhZ2U6IG11bHRlclMzKHtcbiAgICBzMyxcbiAgICBhY2w6IFwicHVibGljLXJlYWRcIixcbiAgICBidWNrZXQ6IFwid2ViZXJ5ZGF5LXRlc3RcIlxuICB9KVxufSk7XG5cbmNvbnN0IGVwaXNvZGVNdWx0ZXJCb3RoID0gbXVsdGVyKHtcbiAgc3RvcmFnZTogbXVsdGVyUzMoe1xuICAgIHMzLFxuICAgIGFjbDogXCJwdWJsaWMtcmVhZFwiLFxuICAgIGJ1Y2tldDogXCJ3ZWJlcnlkYXktdGVzdFwiXG4gIH0pXG59KTtcblxuY29uc3Qgbm90aWZpY2F0aW9uTXVsdGVyID0gbXVsdGVyKHtcbiAgc3RvcmFnZTogbXVsdGVyUzMoe1xuICAgIHMzLFxuICAgIGFjbDogXCJwdWJsaWMtcmVhZFwiLFxuICAgIGJ1Y2tldDogXCJ3ZWJlcnlkYXktdGVzdFwiXG4gIH0pXG59KTtcblxuLy9jb25zdCB1cGxvYWRJbWFnZSA9IHBvc3RNdWx0ZXJCb3RoLnNpbmdsZShcImltZ0ZpbGVcIik7XG5jb25zdCBwb3N0VXBsb2FkYm90aCA9IHBvc3RNdWx0ZXJCb3RoLmFueSgpO1xuY29uc3QgZXBpc29kZVVwbG9hZGJvdGggPSBlcGlzb2RlTXVsdGVyQm90aC5hbnkoKTtcbmNvbnN0IG5vdGlmaWNhaXRvblVwbG9hZCA9IGVwaXNvZGVNdWx0ZXJCb3RoLnNpbmdsZShcImltZ0ZpbGVcIik7XG5cbi8v7J6R7ZKI7J2EIOuTseuhne2VmOugpOqzoCDtlojri6TqsIAg7Yag7YGw7J2EIOyhsOyeke2VmOyXrCDqt7jrg6Ug67CU66GcIHJlZGlyZWN07Iuc7YKk6riwIOychO2VnCDsvZTrk5xcbmFwcC5wb3N0KFwiL1wiLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgcmVzLnJlZGlyZWN0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL1wiKTtcbn0pO1xuXG4vL+yeke2SiCDrk7HroZ3tlaDrlYxcbmFwcC5wb3N0KFwiL3VwbG9hZFBvc3RcIiwgcG9zdFVwbG9hZGJvdGgsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICBjb25zdCB2YWx1ZSA9IHJlcS5maWxlcztcblxuICByZXMuY29va2llKFwicG9zdFRodW1uYWlsXCIsIHZhbHVlWzBdLmxvY2F0aW9uKTtcbiAgcmVzLmNvb2tpZShcInBvc3RCYWNrZ3JvdW5kSW1nXCIsIHZhbHVlWzFdLmxvY2F0aW9uKTtcblxuICAvL3Mz7JeQIOyggOyepeuQmOuKlCBrZXnsoJXrs7Trpbwg7ZW064u5IHBvc3Tsl5Drj4Qg64u06riw7JyE7ZWcIOyekeyXhVxuICByZXMuY29va2llKFwiczNQb3N0VGh1bW5haWxJZFwiLCB2YWx1ZVswXS5rZXkpO1xuICByZXMuY29va2llKFwiczNQb3N0QmFja2dyb3VuZEltZ0lkXCIsIHZhbHVlWzFdLmtleSk7XG5cbiAgcmVzLnJlZGlyZWN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvbXlQb3N0TGlzdGApO1xufSk7XG5cbi8v7J6R7ZKI7IiY7KCV7ZWg65WMXG5hcHAucG9zdChcIi9teVBvc3RVcGRhdGUvOmlkXCIsIHBvc3RVcGxvYWRib3RoLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgbGV0IHBvc3RJZCA9IHJlcS51cmwuc3BsaXQoXCIvXCIpWzJdO1xuICBjb25zdCB2YWx1ZSA9IHJlcS5maWxlcztcblxuICAvL3Mz7JeQ7IScIOyeiOuKlCDquLDsobTsnZgg64K07Jqp7J2EIOyCreygnO2VmOq4sCDsnITtlahcbiAgY29uc3QgZGJTM1RodW1ibmFpbCA9IHJlcS5xdWVyeS5zM1RodW1ibmFpbDtcbiAgY29uc3QgZGJTM0JhY2tncm91bmRJbWFnZSA9IHJlcS5xdWVyeS5zM0JhY2tncm91bmRJbWFnZTtcblxuICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKHZhbHVlWzBdLmZpZWxkbmFtZSA9PT0gXCJwb3N0VGh1bW5haWxcIikge1xuICAgICAgcmVzLmNvb2tpZShcInBvc3RUaHVtbmFpbFwiLCB2YWx1ZVswXS5sb2NhdGlvbik7XG4gICAgICByZXMuY29va2llKFwiczNQb3N0VGh1bW5haWxJZFwiLCB2YWx1ZVswXS5rZXkpO1xuXG4gICAgICByZXMuY29va2llKFwicG9zdEJhY2tncm91bmRJbWdcIiwgXCJcIik7XG4gICAgICByZXMuY29va2llKFwiczNQb3N0QmFja2dyb3VuZEltZ0lkXCIsIFwiXCIpO1xuXG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBCdWNrZXQ6IFwid2ViZXJ5ZGF5LXRlc3RcIixcbiAgICAgICAgS2V5OiBkYlMzVGh1bWJuYWlsXG4gICAgICB9O1xuXG4gICAgICBzMy5kZWxldGVPYmplY3QocGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyLCBlcnIuc3RhY2spO1xuICAgICAgICAvLyBhbiBlcnJvciBvY2N1cnJlZFxuICAgICAgICBlbHNlIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodmFsdWVbMF0uZmllbGRuYW1lID09PSBcInBvc3RCYWNrZ3JvdW5kSW1nXCIpIHtcbiAgICAgIHJlcy5jb29raWUoXCJwb3N0QmFja2dyb3VuZEltZ1wiLCB2YWx1ZVswXS5sb2NhdGlvbik7XG4gICAgICByZXMuY29va2llKFwiczNQb3N0QmFja2dyb3VuZEltZ0lkXCIsIHZhbHVlWzBdLmtleSk7XG5cbiAgICAgIHJlcy5jb29raWUoXCJwb3N0VGh1bW5haWxcIiwgXCJcIik7XG4gICAgICByZXMuY29va2llKFwiczNQb3N0VGh1bW5haWxJZFwiLCBcIlwiKTtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBcIndlYmVyeWRheS10ZXN0XCIsXG4gICAgICAgIEtleTogZGJTM0JhY2tncm91bmRJbWFnZVxuICAgICAgfTtcblxuICAgICAgczMuZGVsZXRlT2JqZWN0KHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhcImVycm9yXCIsIGVyciwgZXJyLnN0YWNrKTtcbiAgICAgICAgLy8gYW4gZXJyb3Igb2NjdXJyZWRcbiAgICAgICAgZWxzZSBjb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLmNvb2tpZShcInBvc3RUaHVtbmFpbFwiLCB2YWx1ZVswXS5sb2NhdGlvbik7XG4gICAgcmVzLmNvb2tpZShcInBvc3RCYWNrZ3JvdW5kSW1nXCIsIHZhbHVlWzFdLmxvY2F0aW9uKTtcbiAgICByZXMuY29va2llKFwiczNQb3N0VGh1bW5haWxJZFwiLCB2YWx1ZVswXS5rZXkpO1xuICAgIHJlcy5jb29raWUoXCJzM1Bvc3RCYWNrZ3JvdW5kSW1nSWRcIiwgdmFsdWVbMV0ua2V5KTtcblxuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBCdWNrZXQ6IFwid2ViZXJ5ZGF5LXRlc3RcIixcbiAgICAgIERlbGV0ZToge1xuICAgICAgICBPYmplY3RzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgS2V5OiBkYlMzVGh1bWJuYWlsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBLZXk6IGRiUzNCYWNrZ3JvdW5kSW1hZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFF1aWV0OiBmYWxzZVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzMy5kZWxldGVPYmplY3RzKHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIsIGVyci5zdGFjayk7XG4gICAgICAvLyBhbiBlcnJvciBvY2N1cnJlZFxuICAgICAgZWxzZSBjb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICByZXMucmVkaXJlY3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9teVBvc3RMaXN0LyR7cG9zdElkfWApO1xufSk7XG5cbi8v7J6R7ZKIIOyCreygnO2VoOuVjFxuYXBwLnBvc3QoXCIvbXlQb3N0RGVsZXRlXCIsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBzM1RodW1ibmFpbCA9IHJlcS5xdWVyeS5zM1RodW1ibmFpbDtcbiAgY29uc3QgczNCYWNrZ3JvdW5kSW1hZ2UgPSByZXEucXVlcnkuczNCYWNrZ3JvdW5kSW1hZ2U7XG5cbiAgdmFyIHBhcmFtcyA9IHtcbiAgICBCdWNrZXQ6IFwid2ViZXJ5ZGF5LXRlc3RcIixcbiAgICBEZWxldGU6IHtcbiAgICAgIE9iamVjdHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIEtleTogczNUaHVtYm5haWxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIEtleTogczNCYWNrZ3JvdW5kSW1hZ2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFF1aWV0OiBmYWxzZVxuICAgIH1cbiAgfTtcblxuICBzMy5kZWxldGVPYmplY3RzKHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyLCBlcnIuc3RhY2spO1xuICAgIC8vIGFuIGVycm9yIG9jY3VycmVkXG4gICAgZWxzZSBjb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gIH0pO1xufSk7XG5cbi8v7J6R7ZKIIO2ajOywqCDrk7HroZ3tlaDrlYxcbmFwcC5wb3N0KFwiL3VwbG9hZEVwaXNvZGUvOmlkXCIsIGVwaXNvZGVVcGxvYWRib3RoLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgY29uc3QgdmFsdWUgPSByZXEuZmlsZXM7XG5cbiAgbGV0IHBvc3RJZCA9IHJlcS51cmwuc3BsaXQoXCIvXCIpWzJdO1xuICByZXMuY29va2llKFwiZXBpc29kZUltZ0ZpbGVcIiwgdmFsdWVbMF0ubG9jYXRpb24pO1xuICByZXMuY29va2llKFwidmlkZW9GaWxlXCIsIHZhbHVlWzFdLmxvY2F0aW9uKTtcbiAgLy9zM+yXkCDsoIDsnqXrkKAgY29va2ll66W8IOyDneyEsVxuICByZXMuY29va2llKFwiczNFcGlzb2RlSW1nRmlsZVwiLCB2YWx1ZVswXS5rZXkpO1xuICByZXMuY29va2llKFwiczNWaWRlb0ZpbGVcIiwgdmFsdWVbMV0ua2V5KTtcblxuICByZXMucmVkaXJlY3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9teVBvc3RMaXN0LyR7cG9zdElkfWApO1xufSk7XG5cbi8v7J6R7ZKIIO2ajOywqCDsiJjsoJXtlaDrlYxcbmFwcC5wb3N0KFwiL3VwZGF0ZUVwaXNvZGUvOmlkXCIsIGVwaXNvZGVVcGxvYWRib3RoLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgY29uc3QgdmFsdWUgPSByZXEuZmlsZXM7XG4gIGxldCBlcGlzb2RlSWQgPSByZXEudXJsLnNwbGl0KFwiL1wiKVsyXTtcblxuICAvL3Mz7JeQIOyeiOuKlCDsoJXrs7TrpbwgdXJs7J2EIO2Gte2VtCDqsIDsoLjsmLRcbiAgY29uc3QgczNUaHVtYm5haWxJZCA9IHJlcS5xdWVyeS5zM1RodW1ibmFpbElkO1xuICBjb25zdCBzM0ZpbGVJZCA9IHJlcS5xdWVyeS5zM0ZpbGVJZDtcblxuICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKHZhbHVlWzBdLmZpZWxkbmFtZSA9PT0gXCJ2aWRlb0ZpbGVcIikge1xuICAgICAgcmVzLmNvb2tpZShcInZpZGVvRmlsZVwiLCB2YWx1ZVswXS5sb2NhdGlvbik7XG4gICAgICByZXMuY29va2llKFwiczNGaWxlSWRcIiwgdmFsdWVbMF0ua2V5KTtcblxuICAgICAgcmVzLmNvb2tpZShcImVwaXNvZGVJbWdGaWxlXCIsIFwiXCIpO1xuICAgICAgcmVzLmNvb2tpZShcInMzVGh1bWJuYWlsSWRcIiwgXCJcIik7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIEJ1Y2tldDogXCJ3ZWJlcnlkYXktdGVzdFwiLFxuICAgICAgICBLZXk6IHMzRmlsZUlkXG4gICAgICB9O1xuXG4gICAgICBzMy5kZWxldGVPYmplY3QocGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyLCBlcnIuc3RhY2spO1xuICAgICAgICAvLyBhbiBlcnJvciBvY2N1cnJlZFxuICAgICAgICBlbHNlIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodmFsdWVbMF0uZmllbGRuYW1lID09PSBcInBvc3RUaHVtbmFpbFwiKSB7XG4gICAgICByZXMuY29va2llKFwiZXBpc29kZUltZ0ZpbGVcIiwgdmFsdWVbMF0ubG9jYXRpb24pO1xuICAgICAgcmVzLmNvb2tpZShcInMzVGh1bWJuYWlsSWRcIiwgdmFsdWVbMF0ua2V5KTtcblxuICAgICAgcmVzLmNvb2tpZShcInZpZGVvRmlsZVwiLCBcIlwiKTtcbiAgICAgIHJlcy5jb29raWUoXCJzM0ZpbGVJZFwiLCBcIlwiKTtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgQnVja2V0OiBcIndlYmVyeWRheS10ZXN0XCIsXG4gICAgICAgIEtleTogczNUaHVtYm5haWxJZFxuICAgICAgfTtcblxuICAgICAgczMuZGVsZXRlT2JqZWN0KHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhcImVycm9yXCIsIGVyciwgZXJyLnN0YWNrKTtcbiAgICAgICAgLy8gYW4gZXJyb3Igb2NjdXJyZWRcbiAgICAgICAgZWxzZSBjb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLmNvb2tpZShcImVwaXNvZGVJbWdGaWxlXCIsIHZhbHVlWzBdLmxvY2F0aW9uKTtcbiAgICByZXMuY29va2llKFwidmlkZW9GaWxlXCIsIHZhbHVlWzFdLmxvY2F0aW9uKTtcbiAgICByZXMuY29va2llKFwiczNUaHVtYm5haWxJZFwiLCB2YWx1ZVswXS5rZXkpO1xuICAgIHJlcy5jb29raWUoXCJzM0ZpbGVJZFwiLCB2YWx1ZVsxXS5rZXkpO1xuXG4gICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgIEJ1Y2tldDogXCJ3ZWJlcnlkYXktdGVzdFwiLFxuICAgICAgRGVsZXRlOiB7XG4gICAgICAgIE9iamVjdHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBLZXk6IHMzVGh1bWJuYWlsSWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEtleTogczNGaWxlSWRcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFF1aWV0OiBmYWxzZVxuICAgICAgfVxuICAgIH07XG5cbiAgICBzMy5kZWxldGVPYmplY3RzKHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIsIGVyci5zdGFjayk7XG4gICAgICAvLyBhbiBlcnJvciBvY2N1cnJlZFxuICAgICAgZWxzZSBjb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICByZXMucmVkaXJlY3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9lcGlzb2RlVXBkYXRlLyR7ZXBpc29kZUlkfWApO1xufSk7XG5cbi8v7ZqM7LCoIOyCreygnCBzM+y9lOuTnFxuYXBwLnBvc3QoXCIvZGVsZXRlRXBpc29kZS86aWRcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IHBvc3RJZCA9IHJlcS5xdWVyeS5wb3N0SWQ7XG4gIGNvbnN0IHMzVGh1bWJuYWlsSWQgPSByZXEucXVlcnkuczNUaHVtYm5haWxJZDtcbiAgY29uc3QgczNGaWxlSWQgPSByZXEucXVlcnkuczNGaWxlSWQ7XG5cbiAgdmFyIHBhcmFtcyA9IHtcbiAgICBCdWNrZXQ6IFwid2ViZXJ5ZGF5LXRlc3RcIixcbiAgICBEZWxldGU6IHtcbiAgICAgIE9iamVjdHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIEtleTogczNUaHVtYm5haWxJZFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgS2V5OiBzM0ZpbGVJZFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgUXVpZXQ6IGZhbHNlXG4gICAgfVxuICB9O1xuXG4gIHMzLmRlbGV0ZU9iamVjdHMocGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycikgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIsIGVyci5zdGFjayk7XG4gICAgLy8gYW4gZXJyb3Igb2NjdXJyZWRcbiAgICBlbHNlIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgfSk7XG5cbiAgcmVzLnJlZGlyZWN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvbXlQb3N0TGlzdC8ke3Bvc3RJZH1gKTtcbn0pO1xuXG4vL+q0gOumrOyekCDslYzrprwg7J2066+47KeAIOyXheuhnOuTnFxuYXBwLnBvc3QoXCIvbm90aWZpY2F0aW9uTWFuYWdlXCIsIG5vdGlmaWNhaXRvblVwbG9hZCwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGNvbnN0IHZhbHVlID0gcmVxLmZpbGU7XG5cbiAgLy8gY29uc3Qgbm90aWZpY2F0aW9uVGl0bGUgPSByZXEucXVlcnkubm90aWZpY2F0aW9uVGl0bGU7XG4gIC8vIGNvbnN0IG5vdGlmaWNhdGlvblRleHQgPSByZXEucXVlcnkubm90aWZpY2F0aW9uVGV4dDtcbiAgLy8gY29uc3Qgbm90aWZpY2F0aW9uVVJMID0gcmVxLnF1ZXJ5Lm5vdGlmaWNhdGlvblVSTDtcbiAgLy8gY29uc29sZS5sb2cobm90aWZpY2F0aW9uVGl0bGUsIG5vdGlmaWNhdGlvblRleHQsIG5vdGlmaWNhdGlvblVSTCk7XG5cbiAgLy8gcmVzLmNvb2tpZShcIm5vdGlmaWNhdGlvblRpdGxlXCIsIG5vdGlmaWNhdGlvblRpdGxlKTtcbiAgLy8gcmVzLmNvb2tpZShcIm5vdGlmaWNhdGlvblRleHRcIiwgbm90aWZpY2F0aW9uVGV4dCk7XG4gIC8vIHJlcy5jb29raWUoXCJub3RpZmljYXRpb25VUkxcIiwgbm90aWZpY2F0aW9uVVJMKTtcblxuICAvL3Mz7JeQIOyggOyepeuQoCBjb29raWXrpbwg7IOd7ISxXG4gIHJlcy5jb29raWUoXCJub3RpZmljYXRpb25JbWdGaWxlXCIsIHZhbHVlLmxvY2F0aW9uKTtcbiAgcmVzLmNvb2tpZShcInMzTm90aWZpY2F0aW9uSW1nRmlsZVwiLCB2YWx1ZS5rZXkpO1xuXG4gIHJlcy5yZWRpcmVjdChgaHR0cDovL2xvY2FsaG9zdDozMDAwL25vdGlmaWNhdGlvbk1hbmFnZWApO1xufSk7XG5cbi8v7JWM66a8IOyImOyglSDtlaDrlYxcbmFwcC5wb3N0KFwiL25vdGlmaWNhdGlvblVwZGF0ZU1hbmFnZVwiLCBub3RpZmljYWl0b25VcGxvYWQsIGZ1bmN0aW9uIChcbiAgcmVxLFxuICByZXMsXG4gIG5leHRcbikge1xuICBjb25zdCB2YWx1ZSA9IHJlcS5maWxlO1xuICBjb25zdCBzM05vdGlmaWNhdGlvbklkID0gcmVxLnF1ZXJ5LnMzTm90aWZpY2F0aW9uSWQ7XG5cbiAgLy9zM+yXkCDsoIDsnqXrkKAgY29va2ll66W8IOyDneyEsVxuICByZXMuY29va2llKFwibm90aWZpY2F0aW9uVXBkYXRlSW1nRmlsZVwiLCB2YWx1ZS5sb2NhdGlvbik7XG4gIHJlcy5jb29raWUoXCJzM05vdGlmaWNhdGlvblVwZGF0ZUltZ0ZpbGVcIiwgdmFsdWUua2V5KTtcblxuICBpZiAoczNOb3RpZmljYXRpb25JZCA9PT0gXCJcIikge1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBCdWNrZXQ6IFwid2ViZXJ5ZGF5LXRlc3RcIixcbiAgICAgIEtleTogczNOb3RpZmljYXRpb25JZFxuICAgIH07XG5cbiAgICBzMy5kZWxldGVPYmplY3QocGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhcImVycm9yXCIsIGVyciwgZXJyLnN0YWNrKTtcbiAgICAgIC8vIGFuIGVycm9yIG9jY3VycmVkXG4gICAgICBlbHNlIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlcy5yZWRpcmVjdChgaHR0cDovL2xvY2FsaG9zdDozMDAwL25vdGlmaWNhdGlvbk1hbmFnZWApO1xufSk7XG5cbi8v7JWM66a8IOyCreygnO2VoOuVjFxuYXBwLnBvc3QoXCIvbm90aWZpY2F0aW9uRGVsZXRlXCIsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBzM05vdGlmaWNhdGlvbktleSA9IHJlcS5xdWVyeS5zM05vdGlmaWNhdGlvbktleTtcblxuICB2YXIgcGFyYW1zID0ge1xuICAgIEJ1Y2tldDogXCJ3ZWJlcnlkYXktdGVzdFwiLFxuICAgIEtleTogczNOb3RpZmljYXRpb25LZXlcbiAgfTtcblxuICBzMy5kZWxldGVPYmplY3QocGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycikgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIsIGVyci5zdGFjayk7XG4gICAgLy8gYW4gZXJyb3Igb2NjdXJyZWRcbiAgICBlbHNlIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgfSk7XG5cbiAgcmVzLnJlZGlyZWN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvbm90aWZpY2F0aW9uTWFuYWdlYCk7XG59KTtcblxuLy/subTsubTsmKTroZzqt7jsnbhcbnZhciBwYXNzcG9ydCA9IHJlcXVpcmUoXCJwYXNzcG9ydFwiKSxcbiAgS2FrYW9TdHJhdGVneSA9IHJlcXVpcmUoXCJwYXNzcG9ydC1rYWthb1wiKS5TdHJhdGVneTtcblxucGFzc3BvcnQudXNlKFxuICBuZXcgS2FrYW9TdHJhdGVneShcbiAgICB7XG4gICAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuS0FLQU9fUkVTVF9BUEksXG4gICAgICBjYWxsYmFja1VSTDogcHJvY2Vzcy5lbnYuS0FLQU9fQ0FMTF9CQUNLX1VSTFxuICAgIH0sXG4gICAgZnVuY3Rpb24gKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpIHtcbiAgICAgIC8vIOyCrOyaqeyekOydmCDsoJXrs7TripQgcHJvZmlsZeyXkCDrk6TslrTsnojri6QuXG4gICAgICByZXR1cm4gZG9uZShudWxsLCBwcm9maWxlKTtcbiAgICB9XG4gIClcbik7XG5cbmFwcC5nZXQoXCIvbG9naW4va2FrYW9cIiwgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwia2FrYW9cIikpO1xuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuXG5hcHAuZ2V0KFwiL2xvZ2luL2tha2FvL2NhbGxiYWNrXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJrYWthb1wiLCBmdW5jdGlvbiAoZXJyLCB1c2VyKSB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2tha2FvTG9naW4vZmFpbFwiKTtcbiAgICB9XG4gICAgcmVxLmxvZ0luKHVzZXIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRfa2FrYW9Vc2VyID0gdXNlci5fanNvbi5rYWthb19hY2NvdW50LmVtYWlsO1xuICAgICAgcmVzLmNvb2tpZShcImN1cnJlbnRfa2FrYW9Vc2VyXCIsIGN1cnJlbnRfa2FrYW9Vc2VyKTtcbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvXCIpO1xuICAgIH0pO1xuICB9KShyZXEsIHJlcyk7XG59KTtcblxuLy/rhKTsnbTrsoQg66Gc6re47J24XG52YXIgTmF2ZXJTdHJhdGVneSA9IHJlcXVpcmUoXCJwYXNzcG9ydC1uYXZlclwiKS5TdHJhdGVneTtcblxucGFzc3BvcnQudXNlKFxuICBuZXcgTmF2ZXJTdHJhdGVneShcbiAgICB7XG4gICAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuTkFWRVJfUkVTVF9BUEksXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52Lk5BVkVSX0NMSUVOVF9TRUNSRVQsXG4gICAgICBjYWxsYmFja1VSTDogcHJvY2Vzcy5lbnYuTkFWRVJfQ0FMTF9CQUNLX1VSTFxuICAgIH0sXG4gICAgZnVuY3Rpb24gKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpIHtcbiAgICAgIHJldHVybiBkb25lKG51bGwsIHByb2ZpbGUpO1xuICAgIH1cbiAgKVxuKTtcbmFwcC5nZXQoXCIvbG9naW4vbmF2ZXJcIiwgcGFzc3BvcnQuYXV0aGVudGljYXRlKFwibmF2ZXJcIikpO1xuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuXG5hcHAuZ2V0KFwiL2xvZ2luL25hdmVyL2NhbGxiYWNrXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJuYXZlclwiLCBmdW5jdGlvbiAoZXJyLCB1c2VyKSB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL25hdmVyTG9naW4vZmFpbFwiKTtcbiAgICB9XG4gICAgcmVxLmxvZ0luKHVzZXIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRfTmF2ZXJVc2VyID0gdXNlci5fanNvbi5lbWFpbDtcblxuICAgICAgcmVzLmNvb2tpZShcImN1cnJlbnRfTmF2ZXJVc2VyXCIsIGN1cnJlbnRfTmF2ZXJVc2VyKTtcbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvXCIpO1xuICAgIH0pO1xuICB9KShyZXEsIHJlcyk7XG59KTtcblxuLy9mYWNlYm9vayBMb2dpblxudmFyIEZhY2Vib29rU3RyYXRlZ3kgPSByZXF1aXJlKFwicGFzc3BvcnQtZmFjZWJvb2tcIikuU3RyYXRlZ3k7XG5cbnBhc3Nwb3J0LnVzZShcbiAgbmV3IEZhY2Vib29rU3RyYXRlZ3koXG4gICAge1xuICAgICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0FQUF9JRCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQVBQX1NFQ1JFVCxcblxuICAgICAgLy9uZ3Jva+ydmCBodHRwc+ulvCDsgqzsmqntlZjripQg7KSRXG4gICAgICAvL2VuduuPhCDqs6Dss5DspJjslbztlahcbiAgICAgIGNhbGxiYWNrVVJMOiBwcm9jZXNzLmVudi5GQUNFQk9PS19DQUxMX0JBQ0tfVVJMLFxuICAgICAgcHJvZmlsZUZpZWxkczogW1xuICAgICAgICBcImlkXCIsXG4gICAgICAgIFwiZW1haWxcIixcbiAgICAgICAgXCJnZW5kZXJcIixcbiAgICAgICAgXCJsaW5rXCIsXG4gICAgICAgIFwibG9jYWxlXCIsXG4gICAgICAgIFwibmFtZVwiLFxuICAgICAgICBcInRpbWV6b25lXCIsXG4gICAgICAgIFwidXBkYXRlZF90aW1lXCIsXG4gICAgICAgIFwidmVyaWZpZWRcIixcbiAgICAgICAgXCJkaXNwbGF5TmFtZVwiXG4gICAgICBdXG4gICAgfSxcblxuICAgIGZ1bmN0aW9uIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSB7XG4gICAgICBwYXNzcG9ydC5zZXJpYWxpemVVc2VyKGZ1bmN0aW9uICh1c2VyLCBkb25lKSB7XG4gICAgICAgIGRvbmUobnVsbCwgdXNlcik7XG4gICAgICB9KTtcblxuICAgICAgcGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKGZ1bmN0aW9uICh1c2VyLCBkb25lKSB7XG4gICAgICAgIGRvbmUobnVsbCwgdXNlcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRvbmUobnVsbCwgcHJvZmlsZSk7XG4gICAgfVxuICApXG4pO1xuXG5hcHAuZ2V0KFxuICBcIi9hdXRoL2ZhY2Vib29rXCIsXG4gIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZShcImZhY2Vib29rXCIsIHsgc2NvcGU6IFwiZW1haWxcIiB9KVxuKTtcblxuYXBwLmdldChcIi9hdXRoL2ZhY2Vib29rL2NhbGxiYWNrXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICBwYXNzcG9ydC5hdXRoZW50aWNhdGUoXCJmYWNlYm9va1wiLCBmdW5jdGlvbiAoZXJyLCB1c2VyKSB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2ZhY2Vib29rTG9naW4vZmFpbFwiKTtcbiAgICB9XG4gICAgcmVxLmxvZ0luKHVzZXIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGxldCBmYkVtYWlsID0gXCJcIjtcbiAgICAgIGlmICh1c2VyLl9qc29uLmVtYWlsICE9PSB1bmRlZmluZWQgJiYgdXNlci5fanNvbi5lbWFpbCAhPT0gXCJcIikge1xuICAgICAgICBmYkVtYWlsID0gdXNlci5fanNvbi5lbWFpbDtcbiAgICAgICAgQ29va2llLnNldChcImN1cnJlbnRfRmFjZWJvb2tVc2VyXCIsIGZiRW1haWwpO1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDA/ZmJFbWFpbD0ke2ZiRW1haWx9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBDb29raWUuc2V0KFwiY3VycmVudF9GYWNlYm9va1VzZXJcIiwgdXNlci5pZCk7XG4gICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMD9mYkVtYWlsPSR7dXNlci5pZH1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkocmVxLCByZXMpO1xufSk7XG5cbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT5cbiAgY29uc29sZS5sb2coYPCflKVMaXN0ZW5pbmcgb24gU2VydmVyOiBodHRwLy9sb2NhbGhvc3Q6JHtwb3J0ffCfjZNgKVxuKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "app",
        "use",
        "dotenv",
        "config",
        "path",
        "join",
        "__dirname",
        "port",
        "s3",
        "aws",
        "S3",
        "accessKeyId",
        "process",
        "env",
        "AWS_KEY",
        "secretAccessKey",
        "AWS_PRIVATE_KEY",
        "region",
        "postMulterBoth",
        "storage",
        "acl",
        "bucket",
        "episodeMulterBoth",
        "notificationMulter",
        "postUploadboth",
        "any",
        "episodeUploadboth",
        "notificaitonUpload",
        "single",
        "post",
        "req",
        "res",
        "next",
        "redirect",
        "value",
        "files",
        "cookie",
        "location",
        "key",
        "postId",
        "url",
        "split",
        "dbS3Thumbnail",
        "query",
        "s3Thumbnail",
        "dbS3BackgroundImage",
        "s3BackgroundImage",
        "length",
        "fieldname",
        "params",
        "Bucket",
        "Key",
        "deleteObject",
        "err",
        "data",
        "console",
        "log",
        "stack",
        "Delete",
        "Objects",
        "Quiet",
        "deleteObjects",
        "episodeId",
        "s3ThumbnailId",
        "s3FileId",
        "file",
        "s3NotificationId",
        "s3NotificationKey",
        "passport",
        "require",
        "KakaoStrategy",
        "Strategy",
        "clientID",
        "KAKAO_REST_API",
        "callbackURL",
        "KAKAO_CALL_BACK_URL",
        "accessToken",
        "refreshToken",
        "profile",
        "done",
        "get",
        "authenticate",
        "initialize",
        "user",
        "logIn",
        "current_kakaoUser",
        "_json",
        "kakao_account",
        "email",
        "NaverStrategy",
        "NAVER_REST_API",
        "clientSecret",
        "NAVER_CLIENT_SECRET",
        "NAVER_CALL_BACK_URL",
        "current_NaverUser",
        "FacebookStrategy",
        "FACEBOOK_APP_ID",
        "FACEBOOK_APP_SECRET",
        "FACEBOOK_CALL_BACK_URL",
        "profileFields",
        "serializeUser",
        "deserializeUser",
        "scope",
        "fbEmail",
        "undefined",
        "Cookie",
        "set",
        "id",
        "listen"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/insungsong/Documents/weberyday-fileUpload-backend/src/",
      "sourcesContent": [
        "import express from \"express\";\nimport multer from \"multer\";\nimport multerS3 from \"multer-s3\";\nimport aws from \"aws-sdk\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport dotenv from \"dotenv\";\nimport Cookie from \"js-cookie\";\n\nconst app = express();\n\n// http://localhost:3000(frontend에서 localhost:5000이 들어오게 하는것을 허락하는 코드)\napp.use(cors());\n\ndotenv.config({ path: path.join(__dirname, \"../.env\") });\n\nconst port = 5000;\n\nconst s3 = new aws.S3({\n  accessKeyId: process.env.AWS_KEY,\n  secretAccessKey: process.env.AWS_PRIVATE_KEY,\n  region: \"ap-northeast-1\"\n});\n\nconst postMulterBoth = multer({\n  storage: multerS3({\n    s3,\n    acl: \"public-read\",\n    bucket: \"weberyday-test\"\n  })\n});\n\nconst episodeMulterBoth = multer({\n  storage: multerS3({\n    s3,\n    acl: \"public-read\",\n    bucket: \"weberyday-test\"\n  })\n});\n\nconst notificationMulter = multer({\n  storage: multerS3({\n    s3,\n    acl: \"public-read\",\n    bucket: \"weberyday-test\"\n  })\n});\n\n//const uploadImage = postMulterBoth.single(\"imgFile\");\nconst postUploadboth = postMulterBoth.any();\nconst episodeUploadboth = episodeMulterBoth.any();\nconst notificaitonUpload = episodeMulterBoth.single(\"imgFile\");\n\n//작품을 등록하려고 했다가 토큰을 조작하여 그냥 바로 redirect시키기 위한 코드\napp.post(\"/\", (req, res, next) => {\n  res.redirect(\"http://localhost:3000/\");\n});\n\n//작품 등록할때\napp.post(\"/uploadPost\", postUploadboth, function (req, res, next) {\n  const value = req.files;\n\n  res.cookie(\"postThumnail\", value[0].location);\n  res.cookie(\"postBackgroundImg\", value[1].location);\n\n  //s3에 저장되는 key정보를 해당 post에도 담기위한 작업\n  res.cookie(\"s3PostThumnailId\", value[0].key);\n  res.cookie(\"s3PostBackgroundImgId\", value[1].key);\n\n  res.redirect(`http://localhost:3000/myPostList`);\n});\n\n//작품수정할때\napp.post(\"/myPostUpdate/:id\", postUploadboth, function (req, res, next) {\n  let postId = req.url.split(\"/\")[2];\n  const value = req.files;\n\n  //s3에서 있는 기존의 내용을 삭제하기 위함\n  const dbS3Thumbnail = req.query.s3Thumbnail;\n  const dbS3BackgroundImage = req.query.s3BackgroundImage;\n\n  if (value.length === 1) {\n    if (value[0].fieldname === \"postThumnail\") {\n      res.cookie(\"postThumnail\", value[0].location);\n      res.cookie(\"s3PostThumnailId\", value[0].key);\n\n      res.cookie(\"postBackgroundImg\", \"\");\n      res.cookie(\"s3PostBackgroundImgId\", \"\");\n\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: dbS3Thumbnail\n      };\n\n      s3.deleteObject(params, (err, data) => {\n        if (err) console.log(\"error\", err, err.stack);\n        // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n    if (value[0].fieldname === \"postBackgroundImg\") {\n      res.cookie(\"postBackgroundImg\", value[0].location);\n      res.cookie(\"s3PostBackgroundImgId\", value[0].key);\n\n      res.cookie(\"postThumnail\", \"\");\n      res.cookie(\"s3PostThumnailId\", \"\");\n\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: dbS3BackgroundImage\n      };\n\n      s3.deleteObject(params, (err, data) => {\n        if (err) console.log(\"error\", err, err.stack);\n        // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n  } else {\n    res.cookie(\"postThumnail\", value[0].location);\n    res.cookie(\"postBackgroundImg\", value[1].location);\n    res.cookie(\"s3PostThumnailId\", value[0].key);\n    res.cookie(\"s3PostBackgroundImgId\", value[1].key);\n\n    var params = {\n      Bucket: \"weberyday-test\",\n      Delete: {\n        Objects: [\n          {\n            Key: dbS3Thumbnail\n          },\n          {\n            Key: dbS3BackgroundImage\n          }\n        ],\n        Quiet: false\n      }\n    };\n\n    s3.deleteObjects(params, (err, data) => {\n      if (err) console.log(\"error\", err, err.stack);\n      // an error occurred\n      else console.log(\"data\", data);\n    });\n  }\n\n  res.redirect(`http://localhost:3000/myPostList/${postId}`);\n});\n\n//작품 삭제할때\napp.post(\"/myPostDelete\", (req, res, next) => {\n  const s3Thumbnail = req.query.s3Thumbnail;\n  const s3BackgroundImage = req.query.s3BackgroundImage;\n\n  var params = {\n    Bucket: \"weberyday-test\",\n    Delete: {\n      Objects: [\n        {\n          Key: s3Thumbnail\n        },\n        {\n          Key: s3BackgroundImage\n        }\n      ],\n      Quiet: false\n    }\n  };\n\n  s3.deleteObjects(params, (err, data) => {\n    if (err) console.log(\"error\", err, err.stack);\n    // an error occurred\n    else console.log(\"data\", data);\n  });\n});\n\n//작품 회차 등록할때\napp.post(\"/uploadEpisode/:id\", episodeUploadboth, function (req, res, next) {\n  const value = req.files;\n\n  let postId = req.url.split(\"/\")[2];\n  res.cookie(\"episodeImgFile\", value[0].location);\n  res.cookie(\"videoFile\", value[1].location);\n  //s3에 저장될 cookie를 생성\n  res.cookie(\"s3EpisodeImgFile\", value[0].key);\n  res.cookie(\"s3VideoFile\", value[1].key);\n\n  res.redirect(`http://localhost:3000/myPostList/${postId}`);\n});\n\n//작품 회차 수정할때\napp.post(\"/updateEpisode/:id\", episodeUploadboth, function (req, res, next) {\n  const value = req.files;\n  let episodeId = req.url.split(\"/\")[2];\n\n  //s3에 있는 정보를 url을 통해 가져옴\n  const s3ThumbnailId = req.query.s3ThumbnailId;\n  const s3FileId = req.query.s3FileId;\n\n  if (value.length === 1) {\n    if (value[0].fieldname === \"videoFile\") {\n      res.cookie(\"videoFile\", value[0].location);\n      res.cookie(\"s3FileId\", value[0].key);\n\n      res.cookie(\"episodeImgFile\", \"\");\n      res.cookie(\"s3ThumbnailId\", \"\");\n\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: s3FileId\n      };\n\n      s3.deleteObject(params, (err, data) => {\n        if (err) console.log(\"error\", err, err.stack);\n        // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n    if (value[0].fieldname === \"postThumnail\") {\n      res.cookie(\"episodeImgFile\", value[0].location);\n      res.cookie(\"s3ThumbnailId\", value[0].key);\n\n      res.cookie(\"videoFile\", \"\");\n      res.cookie(\"s3FileId\", \"\");\n\n      var params = {\n        Bucket: \"weberyday-test\",\n        Key: s3ThumbnailId\n      };\n\n      s3.deleteObject(params, (err, data) => {\n        if (err) console.log(\"error\", err, err.stack);\n        // an error occurred\n        else console.log(\"data\", data);\n      });\n    }\n  } else {\n    res.cookie(\"episodeImgFile\", value[0].location);\n    res.cookie(\"videoFile\", value[1].location);\n    res.cookie(\"s3ThumbnailId\", value[0].key);\n    res.cookie(\"s3FileId\", value[1].key);\n\n    var params = {\n      Bucket: \"weberyday-test\",\n      Delete: {\n        Objects: [\n          {\n            Key: s3ThumbnailId\n          },\n          {\n            Key: s3FileId\n          }\n        ],\n        Quiet: false\n      }\n    };\n\n    s3.deleteObjects(params, (err, data) => {\n      if (err) console.log(\"error\", err, err.stack);\n      // an error occurred\n      else console.log(\"data\", data);\n    });\n  }\n\n  res.redirect(`http://localhost:3000/episodeUpdate/${episodeId}`);\n});\n\n//회차 삭제 s3코드\napp.post(\"/deleteEpisode/:id\", function (req, res, next) {\n  const postId = req.query.postId;\n  const s3ThumbnailId = req.query.s3ThumbnailId;\n  const s3FileId = req.query.s3FileId;\n\n  var params = {\n    Bucket: \"weberyday-test\",\n    Delete: {\n      Objects: [\n        {\n          Key: s3ThumbnailId\n        },\n        {\n          Key: s3FileId\n        }\n      ],\n      Quiet: false\n    }\n  };\n\n  s3.deleteObjects(params, (err, data) => {\n    if (err) console.log(\"error\", err, err.stack);\n    // an error occurred\n    else console.log(\"data\", data);\n  });\n\n  res.redirect(`http://localhost:3000/myPostList/${postId}`);\n});\n\n//관리자 알림 이미지 업로드\napp.post(\"/notificationManage\", notificaitonUpload, function (req, res, next) {\n  const value = req.file;\n\n  // const notificationTitle = req.query.notificationTitle;\n  // const notificationText = req.query.notificationText;\n  // const notificationURL = req.query.notificationURL;\n  // console.log(notificationTitle, notificationText, notificationURL);\n\n  // res.cookie(\"notificationTitle\", notificationTitle);\n  // res.cookie(\"notificationText\", notificationText);\n  // res.cookie(\"notificationURL\", notificationURL);\n\n  //s3에 저장될 cookie를 생성\n  res.cookie(\"notificationImgFile\", value.location);\n  res.cookie(\"s3NotificationImgFile\", value.key);\n\n  res.redirect(`http://localhost:3000/notificationManage`);\n});\n\n//알림 수정 할때\napp.post(\"/notificationUpdateManage\", notificaitonUpload, function (\n  req,\n  res,\n  next\n) {\n  const value = req.file;\n  const s3NotificationId = req.query.s3NotificationId;\n\n  //s3에 저장될 cookie를 생성\n  res.cookie(\"notificationUpdateImgFile\", value.location);\n  res.cookie(\"s3NotificationUpdateImgFile\", value.key);\n\n  if (s3NotificationId === \"\") {\n  } else {\n    var params = {\n      Bucket: \"weberyday-test\",\n      Key: s3NotificationId\n    };\n\n    s3.deleteObject(params, (err, data) => {\n      if (err) console.log(\"error\", err, err.stack);\n      // an error occurred\n      else console.log(\"data\", data);\n    });\n  }\n\n  res.redirect(`http://localhost:3000/notificationManage`);\n});\n\n//알림 삭제할때\napp.post(\"/notificationDelete\", (req, res, next) => {\n  const s3NotificationKey = req.query.s3NotificationKey;\n\n  var params = {\n    Bucket: \"weberyday-test\",\n    Key: s3NotificationKey\n  };\n\n  s3.deleteObject(params, (err, data) => {\n    if (err) console.log(\"error\", err, err.stack);\n    // an error occurred\n    else console.log(\"data\", data);\n  });\n\n  res.redirect(`http://localhost:3000/notificationManage`);\n});\n\n//카카오로그인\nvar passport = require(\"passport\"),\n  KakaoStrategy = require(\"passport-kakao\").Strategy;\n\npassport.use(\n  new KakaoStrategy(\n    {\n      clientID: process.env.KAKAO_REST_API,\n      callbackURL: process.env.KAKAO_CALL_BACK_URL\n    },\n    function (accessToken, refreshToken, profile, done) {\n      // 사용자의 정보는 profile에 들어있다.\n      return done(null, profile);\n    }\n  )\n);\n\napp.get(\"/login/kakao\", passport.authenticate(\"kakao\"));\napp.use(passport.initialize());\n\napp.get(\"/login/kakao/callback\", function (req, res, next) {\n  passport.authenticate(\"kakao\", function (err, user) {\n    if (!user) {\n      return res.redirect(\"http://localhost:3000/kakaoLogin/fail\");\n    }\n    req.logIn(user, function (err) {\n      const current_kakaoUser = user._json.kakao_account.email;\n      res.cookie(\"current_kakaoUser\", current_kakaoUser);\n      return res.redirect(\"http://localhost:3000/\");\n    });\n  })(req, res);\n});\n\n//네이버 로그인\nvar NaverStrategy = require(\"passport-naver\").Strategy;\n\npassport.use(\n  new NaverStrategy(\n    {\n      clientID: process.env.NAVER_REST_API,\n      clientSecret: process.env.NAVER_CLIENT_SECRET,\n      callbackURL: process.env.NAVER_CALL_BACK_URL\n    },\n    function (accessToken, refreshToken, profile, done) {\n      return done(null, profile);\n    }\n  )\n);\napp.get(\"/login/naver\", passport.authenticate(\"naver\"));\napp.use(passport.initialize());\n\napp.get(\"/login/naver/callback\", function (req, res, next) {\n  passport.authenticate(\"naver\", function (err, user) {\n    if (!user) {\n      return res.redirect(\"http://localhost:3000/naverLogin/fail\");\n    }\n    req.logIn(user, function (err) {\n      const current_NaverUser = user._json.email;\n\n      res.cookie(\"current_NaverUser\", current_NaverUser);\n      return res.redirect(\"http://localhost:3000/\");\n    });\n  })(req, res);\n});\n\n//facebook Login\nvar FacebookStrategy = require(\"passport-facebook\").Strategy;\n\npassport.use(\n  new FacebookStrategy(\n    {\n      clientID: process.env.FACEBOOK_APP_ID,\n      clientSecret: process.env.FACEBOOK_APP_SECRET,\n\n      //ngrok의 https를 사용하는 중\n      //env도 고쳐줘야함\n      callbackURL: process.env.FACEBOOK_CALL_BACK_URL,\n      profileFields: [\n        \"id\",\n        \"email\",\n        \"gender\",\n        \"link\",\n        \"locale\",\n        \"name\",\n        \"timezone\",\n        \"updated_time\",\n        \"verified\",\n        \"displayName\"\n      ]\n    },\n\n    function (accessToken, refreshToken, profile, done) {\n      passport.serializeUser(function (user, done) {\n        done(null, user);\n      });\n\n      passport.deserializeUser(function (user, done) {\n        done(null, user);\n      });\n\n      return done(null, profile);\n    }\n  )\n);\n\napp.get(\n  \"/auth/facebook\",\n  passport.authenticate(\"facebook\", { scope: \"email\" })\n);\n\napp.get(\"/auth/facebook/callback\", function (req, res, next) {\n  passport.authenticate(\"facebook\", function (err, user) {\n    if (!user) {\n      return res.redirect(\"http://localhost:3000/facebookLogin/fail\");\n    }\n    req.logIn(user, function (err) {\n      let fbEmail = \"\";\n      if (user._json.email !== undefined && user._json.email !== \"\") {\n        fbEmail = user._json.email;\n        Cookie.set(\"current_FacebookUser\", fbEmail);\n        return res.redirect(`http://localhost:3000?fbEmail=${fbEmail}`);\n      } else {\n        Cookie.set(\"current_FacebookUser\", user.id);\n        return res.redirect(`http://localhost:3000?fbEmail=${user.id}`);\n      }\n    });\n  })(req, res);\n});\n\napp.listen(port, () =>\n  console.log(`🔥Listening on Server: http//localhost:${port}🍓`)\n);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600998600239
  }
}